<template>
  <div>
    <NavBar />
    <v-container>
      <h1 class="text-h5 mb-4">ğŸ“‹ ê²Œì‹œíŒ</h1>
      <v-btn
        class="mb-4 underline-btn"
        variant="plain"
        color="primary"
        @click="$router.push('/board/create')"
      >
        âœï¸ ê¸€ ì‘ì„±
      </v-btn>
      <v-row>
        <v-col
          v-for="article in articles"
          :key="article.id"
          cols="12"
          md="6"
          lg="4"
        >
          <ArticleCard :article="article" />
        </v-col>
      </v-row>
    </v-container>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import axios from 'axios'
import NavBar from '@/components/NavBar.vue'
import ArticleCard from '@/components/ArticleCard.vue'

const articles = ref([])

onMounted(async () => {
  try {
    const res = await axios.get('/api/articles/')
    console.log('ğŸ”¥ ë°›ì€ ì‘ë‹µ:', res.data)
    articles.value = Array.isArray(res.data) ? res.data : []
  } catch (err) {
    console.error('ğŸ“› API ìš”ì²­ ì‹¤íŒ¨:', err)
  }
})

</script>

<style scoped>
</style>
